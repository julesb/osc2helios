#N canvas 678 481 703 351 12;
#X floatatom 237 100 7 0 0 0 - - -;
#X obj 194 26 helios-control;
#X floatatom 242 278 7 1 4096 0 - - -;
#X floatatom 298 101 10 0 0 0 - - -;
#X obj 302 160 v phaseshift;
#X obj 299 128 / 1000;
#X obj 49 252 r helios-control;
#X obj 34 309 helios-status;
#X obj 35 281 helios 10000;
#X floatatom 320 279 7 1 20 0 - - -;
#X obj 242 307 v numbeams;
#X msg 49 192 0 0 255 255 255;
#N canvas -41 481 924 387 modulate 1;
#X obj 150 335 s helios-control;
#X msg 150 283 rotation \$1;
#X obj 372 187 expr sin(time * TWOPI * $f1 + phase);
#X obj 42 13 inlet;
#X obj 152 196 v time;
#X obj 152 255 * 1;
#X floatatom 175 229 5 0 0 0 - - -;
#X obj 157 113 spigot;
#X obj 194 80 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 392 153 5 0 0 0 - - -;
#X obj 384 106 spigot;
#X obj 416 77 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 373 285 linearityx \$1;
#X obj 374 252 * 1;
#X floatatom 402 228 5 0 0 0 - - -;
#X obj 630 186 expr sin(time * TWOPI * $f1 + phase);
#X floatatom 650 152 5 0 0 0 - - -;
#X obj 628 108 spigot;
#X obj 660 79 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 623 254 * 1;
#X floatatom 653 231 5 0 0 0 - - -;
#X msg 624 288 bowy \$1;
#X obj 35 324 outlet;
#X obj 40 45 t b b b b b b b, f 101;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 23 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 5 1;
#X connect 7 0 4 0;
#X connect 8 0 7 1;
#X connect 9 0 2 0;
#X connect 10 0 2 0;
#X connect 11 0 10 1;
#X connect 12 0 0 0;
#X connect 13 0 12 0;
#X connect 14 0 13 1;
#X connect 15 0 19 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 18 0 17 1;
#X connect 19 0 21 0;
#X connect 20 0 19 1;
#X connect 21 0 0 0;
#X connect 23 0 22 0;
#X connect 23 1 7 0;
#X connect 23 3 10 0;
#X connect 23 5 17 0;
#X restore 36 118 pd modulate;
#X obj 380 38 loadbang;
#X msg 238 72 1;
#X msg 242 247 64;
#N canvas 0 54 450 300 stash 0;
#N canvas 0 54 498 473 counter 0;
#X obj 71 112 + 1;
#X obj 14 112 float 0;
#X obj 13 179 outlet;
#X obj 134 57 t b;
#X obj 133 83 float 0;
#X text 133 12 reset;
#X text 12 11 step;
#X obj 11 33 inlet;
#X obj 133 34 inlet;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X restore 15 178 pd counter;
#X f 11;
#N canvas 0 54 902 343 init 0;
#X obj 26 18 loadbang;
#X obj 604 189 v numpoints;
#X obj 31 57 t b b b b b, f 103;
#X msg 755 104 3.14159;
#X obj 756 163 v PI;
#X obj 793 163 v TWOPI;
#X obj 793 134 * 2;
#X obj 572 145 t f b;
#X msg 571 109 8;
#X obj 390 138 v phase;
#X obj 486 213 v freq;
#X msg 391 102 0;
#X msg 483 177 1;
#X obj 574 221 array size beamsx;
#X connect 0 0 2 0;
#X connect 2 4 3 0;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 7 1 1 0;
#X connect 8 0 7 0;
#X connect 11 0 9 0;
#X connect 12 0 10 0;
#X restore 17 122 pd init;
#N canvas 125 460 519 282 waves 0;
#X floatatom 31 59 5 0 0 0 - - -;
#X obj 31 31 expr sin(time * TWOPI * freq + phase);
#X floatatom 29 208 5 0 0 0 - - -;
#X obj 32 238 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 33 88 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 33 161 expr (float(2) / PI) * asin(sin(TWOPI / (float(1) / freq)
* time)), f 37;
#X obj 356 87 v phase;
#X floatatom 356 25 7 0 0 0 - - -;
#X obj 356 55 expr $f1 / 180 * PI;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X restore 18 148 pd waves;
#X obj 145 71 expr max(min($f1 \, $f2) \, ($f2 * -1));
#X floatatom 388 44 5 0 0 0 - - -;
#N canvas 502 54 641 679 flyback 0;
#X obj 109 92 inlet;
#X obj 330 542 outlet;
#X obj 244 94 inlet;
#X obj 110 349 float 0;
#X obj 110 321 until;
#X obj 110 292 float;
#X msg 156 321 0;
#X obj 216 421 list store;
#X obj 527 168 list length;
#X obj 527 202 - 5;
#X obj 425 237 list split;
#X msg 32 45 -100 0 255 255 255 100 0 255 255 255;
#X obj 461 270 unpack f f;
#X obj 323 237 list split;
#X obj 319 171 t l b, f 10;
#X msg 388 203 4;
#X obj 323 266 unpack f f;
#X obj 128 599 print firstx;
#X obj 263 601 print lastx;
#X obj 325 632 print lasty;
#X text 248 72 subdivide;
#X obj 225 349 /;
#X obj 110 136 t b l l l l, f 60;
#X obj 101 540 print subdivideX;
#X text 130 467 lerp: t \, a \, b;
#X obj 118 493 expr $f2 + ($f2 - $f3) * $f1;
#X obj 114 391 /;
#X obj 170 350 + 1;
#X obj 190 634 print firsty;
#X obj 225 313 -;
#X obj 110 174 t b b;
#X floatatom 307 365 5 0 0 0 - - -;
#X floatatom 293 93 5 0 0 0 - - -;
#X connect 2 0 21 1;
#X connect 3 0 26 0;
#X connect 3 0 27 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 3 1;
#X connect 8 0 9 0;
#X connect 9 0 10 1;
#X connect 10 1 12 0;
#X connect 11 0 22 0;
#X connect 12 0 25 2;
#X connect 12 0 29 1;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 14 1 15 0;
#X connect 15 0 13 1;
#X connect 16 0 25 1;
#X connect 16 0 29 0;
#X connect 21 0 5 1;
#X connect 21 0 26 1;
#X connect 21 0 31 0;
#X connect 22 0 30 0;
#X connect 22 1 7 0;
#X connect 22 2 14 0;
#X connect 22 3 10 0;
#X connect 22 4 8 0;
#X connect 26 0 25 0;
#X connect 26 0 23 0;
#X connect 27 0 3 1;
#X connect 29 0 21 0;
#X connect 30 0 5 0;
#X connect 30 1 6 0;
#X connect 32 0 21 1;
#X restore 142 177 pd flyback;
#X msg 141 114 -100 0 255 255 255 100 0 255 255 255;
#X floatatom 203 146 5 0 0 0 - - -;
#X connect 4 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X restore 600 25 pd stash;
#N canvas 154 157 621 469 make-beams 0;
#X obj 128 192 + 1;
#X obj 68 191 float 0;
#X obj 68 163 until;
#X obj 68 135 float;
#X msg 115 163 0;
#X obj 187 189 /;
#X msg 186 162 1 \$1;
#X obj 68 253 *;
#X obj 24 47 t b b b b, f 20;
#X obj 208 134 array size beamsx;
#X obj 68 394 array set beamsx;
#X obj 161 76 v numbeams;
#X obj 23 12 inlet;
#X obj 24 76 outlet;
#N canvas 0 50 450 250 (subpatch) 0;
#X array beamsx 64 float 3;
#A 0 -0.433554 -0.371054 -0.308553 -0.246053 -0.183553 -0.121053 -0.0585525
0.00394777 0.066448 0.128948 0.191448 0.253949 0.316449 0.378949 0.441449
0.50395 0.56645 0.62895 0.69145 0.75395 0.816451 0.878951 0.941451
0.99605 0.93355 0.87105 0.808549 0.746049 0.683549 0.621049 0.558549
0.496048 0.433548 0.371048 0.308548 0.246047 0.183547 0.121047 0.0585468
-0.00395344 -0.0664537 -0.128954 -0.191454 -0.253954 -0.316455 -0.378955
-0.441455 -0.503955 -0.566455 -0.628956 -0.691456 -0.753956 -0.816456
-0.878957 -0.941457 -0.996044 -0.933544 -0.871044 -0.808544 -0.746044
-0.683543 -0.621063 -0.558562 -0.496062;
#X coords 0 -1 64 1 200 100 1 0 0;
#X restore 391 35 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array beamsy 64 float 3;
#A 0 0.0945162 -0.0253844 -0.0662974 0.0990844 -0.043675 -0.0505062
0.0998206 -0.0604602 -0.0326095 0.0967109 -0.0747703 -0.0136413 0.0899348
-0.0863354 0.00604069 0.0796203 -0.0944874 0.0252994 0.0663631 -0.0990725
0.0437717 0.0504134 -0.0998258 0.0603902 0.0326926 -0.0967332 0.0748416
0.0135349 -0.0898878 0.0862911 -0.00595299 -0.0796734 0.0945226 -0.0254034
-0.0662827 0.0990605 -0.0436926 -0.0504893 0.0998194 -0.0604758 -0.032591
0.0967554 -0.0747833 -0.0136219 0.0899262 -0.0863453 0.00606025 0.0797265
-0.0944938 0.0253184 0.0663485 -0.0990752 0.0437893 0.0503965 -0.0998247
0.0604058 0.032674 -0.0967282 0.0748546 0.0135154 -0.0899646 0.086301
-0.00597255 -0.0796615;
#X coords 0 -1 64 1 200 100 1 0 0;
#X restore 389 151 graph;
#X obj 173 432 array set beamsy;
#X obj 173 253 *;
#X obj 68 219 t f f f f, f 23;
#X obj 162 106 t f f f f, f 10;
#X obj 228 164 array size beamsy;
#X obj 68 284 expr (2 / PI) * asin(sin(TWOPI / (1 / freqx) * ($f1 +
phaseshift * time))), f 37;
#X obj 167 350 expr ampy * sin($f1 * TWOPI * freqy + phaseshifty*time)
;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 18 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 1 1;
#X connect 5 0 7 1;
#X connect 5 0 17 1;
#X connect 6 0 5 0;
#X connect 7 0 21 0;
#X connect 8 0 13 0;
#X connect 8 1 3 0;
#X connect 8 2 4 0;
#X connect 8 3 11 0;
#X connect 11 0 19 0;
#X connect 12 0 8 0;
#X connect 17 0 22 0;
#X connect 18 0 7 0;
#X connect 18 1 10 1;
#X connect 18 2 17 0;
#X connect 18 3 16 1;
#X connect 19 0 3 1;
#X connect 19 1 6 0;
#X connect 19 2 9 0;
#X connect 19 3 20 0;
#X connect 21 0 10 0;
#X connect 22 0 16 0;
#X restore 36 85 pd make-beams;
#N canvas 519 71 453 779 render 0;
#X obj 26 17 inlet;
#X obj 66 191 float 0;
#X obj 66 640 pack f f f f f, f 23;
#X obj 106 604 * 2047;
#X obj 186 576 * 255;
#X obj 227 603 * 255;
#X obj 66 675 array set heliosdata, f 52;
#X obj 66 221 t f f f f f f, f 29;
#X obj 180 191 array size heliosdata;
#X obj 66 163 until;
#X obj 66 134 float;
#X msg 112 163 0;
#X obj 22 738 outlet;
#X obj 25 711 array get heliosdata;
#X obj 81 738 array define -yrange -2048 2047 heliosdata;
#X obj 25 46 t b b b b, f 18;
#X obj 126 192 + 5;
#X obj 180 138 change;
#X obj 180 163 * 5;
#X obj 66 251 / 5;
#X obj 146 251 / 5;
#X obj 66 576 * -2047;
#X obj 66 342 tabread beamsx;
#X obj 106 371 tabread beamsy;
#X obj 106 251 / 5;
#X obj 148 112 t f f;
#X obj 148 80 expr numbeams * dwell;
#X obj 146 402 expr (($i1 % dwell) >= dwell * preblank) && (($i1 %
dwell) < dwell * postblank), f 39;
#X obj 66 281 expr ($f1 / dwell);
#X obj 106 311 expr ($f1 / dwell);
#X obj 186 492 expr $f1 * (($i2 / 5 / dwell) % 2 == 0), f 21;
#X obj 227 534 expr $f1 * (($i2 / 5 / dwell) % 2 == 1), f 21;
#X obj 146 552 * 0;
#X obj 146 461 t f f f, f 12;
#X connect 0 0 15 0;
#X connect 1 0 7 0;
#X connect 1 0 16 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 2 3;
#X connect 5 0 2 4;
#X connect 7 0 19 0;
#X connect 7 1 24 0;
#X connect 7 2 20 0;
#X connect 7 3 30 1;
#X connect 7 4 31 1;
#X connect 7 5 6 1;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 11 0 1 1;
#X connect 13 0 12 0;
#X connect 15 0 13 0;
#X connect 15 1 10 0;
#X connect 15 2 11 0;
#X connect 15 3 26 0;
#X connect 16 0 1 1;
#X connect 17 0 18 0;
#X connect 18 0 8 0;
#X connect 19 0 28 0;
#X connect 20 0 27 0;
#X connect 21 0 2 0;
#X connect 22 0 21 0;
#X connect 23 0 3 0;
#X connect 24 0 29 0;
#X connect 25 0 10 1;
#X connect 25 1 17 0;
#X connect 26 0 25 0;
#X connect 27 0 33 0;
#X connect 28 0 22 0;
#X connect 29 0 23 0;
#X connect 30 0 4 0;
#X connect 31 0 5 0;
#X connect 32 0 2 2;
#X connect 33 0 32 0;
#X connect 33 1 30 0;
#X connect 33 2 31 0;
#X restore 38 150 pd render;
#N canvas 0 54 350 552 clock 1;
#X obj 27 212 metro 50;
#N canvas 0 54 498 473 counter 0;
#X obj 71 112 + 1;
#X obj 14 112 float 0;
#X obj 13 179 outlet;
#X obj 134 57 t b;
#X obj 133 83 float 0;
#X text 133 12 reset;
#X text 12 11 step;
#X obj 11 33 inlet;
#X obj 133 34 inlet;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X restore 27 239 pd counter;
#X f 11;
#X msg 83 151 1000 \$1;
#X obj 83 178 /;
#X obj 84 122 t f f, f 6;
#X obj 80 299 /, f 6;
#X obj 80 327 v time;
#X obj 103 68 loadbang;
#X obj 28 40 inlet;
#X obj 85 40 inlet;
#X text 82 14 FPS;
#X obj 102 209 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 126 204 reset;
#X obj 26 327 outlet;
#X text 25 14 start;
#X obj 27 267 t b f, f 8;
#X msg 102 93 60;
#X connect 0 0 1 0;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 2 0;
#X connect 4 1 5 1;
#X connect 5 0 6 0;
#X connect 7 0 16 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X connect 11 0 1 1;
#X connect 15 0 13 0;
#X connect 15 1 5 0;
#X connect 16 0 4 0;
#X restore 34 58 pd clock;
#X obj 30 22 tgl 24 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X floatatom 88 27 5 0 0 0 - - -;
#X text 133 10 FPS;
#X floatatom 381 279 7 0 0 0 - - -;
#X floatatom 460 279 7 0 0 0 - - -;
#X obj 382 307 v preblank;
#X obj 461 307 v postblank;
#X obj 321 307 v dwell;
#X obj 238 160 v freqx;
#X floatatom 417 97 7 0 0 0 - - -;
#X obj 418 157 v freqy;
#X floatatom 575 101 10 0 0 0 - - -;
#X obj 579 160 v phaseshifty;
#X msg 418 69 8;
#X msg 573 70 0;
#X obj 576 128 / 100;
#X floatatom 487 97 7 0 0 0 - - -;
#X obj 488 157 v ampy;
#X obj 335 218 loadbang;
#X msg 321 249 16;
#X msg 382 251 0.4;
#X msg 296 70 20;
#X msg 488 69 0.1;
#X msg 461 251 0.9;
#X connect 0 0 28 0;
#X connect 2 0 10 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 27 0;
#X connect 11 0 8 0;
#X connect 12 0 18 0;
#X connect 13 0 14 0;
#X connect 13 0 41 0;
#X connect 13 0 33 0;
#X connect 13 0 34 0;
#X connect 14 0 0 0;
#X connect 15 0 2 0;
#X connect 17 0 12 0;
#X connect 18 0 8 0;
#X connect 19 0 17 0;
#X connect 20 0 19 0;
#X connect 21 0 19 1;
#X connect 23 0 25 0;
#X connect 24 0 26 0;
#X connect 29 0 30 0;
#X connect 31 0 35 0;
#X connect 33 0 29 0;
#X connect 34 0 31 0;
#X connect 35 0 32 0;
#X connect 36 0 37 0;
#X connect 38 0 43 0;
#X connect 38 0 40 0;
#X connect 38 0 39 0;
#X connect 38 0 15 0;
#X connect 39 0 9 0;
#X connect 40 0 23 0;
#X connect 41 0 3 0;
#X connect 42 0 36 0;
#X connect 43 0 24 0;
