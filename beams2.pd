#N canvas 729 68 910 349 12;
#X floatatom 198 83 7 0 0 0 - - -;
#X obj 325 308 helios-control;
#X floatatom 589 84 7 1 4096 0 - - -;
#X floatatom 259 84 10 0 0 0 - - -;
#X obj 263 143 v phaseshift;
#X obj 260 111 / 1000;
#X obj 49 252 r helios-control;
#X obj 34 309 helios-status;
#X obj 35 281 helios 10000;
#X floatatom 667 85 7 1 20 0 - - -;
#X obj 589 143 v numbeams;
#X msg 49 192 0 0 255 255 255;
#N canvas 188 617 924 387 modulate 0;
#X obj 150 335 s helios-control;
#X msg 150 283 rotation \$1;
#X obj 372 187 expr sin(time * TWOPI * $f1 + phase);
#X obj 42 13 inlet;
#X obj 152 196 v time;
#X obj 152 255 * 1;
#X floatatom 175 229 5 0 0 0 - - -;
#X obj 157 113 spigot;
#X obj 194 80 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 392 153 5 0 0 0 - - -;
#X obj 384 106 spigot;
#X obj 416 77 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 373 285 linearityx \$1;
#X obj 374 252 * 1;
#X floatatom 402 228 5 0 0 0 - - -;
#X obj 630 186 expr sin(time * TWOPI * $f1 + phase);
#X floatatom 650 152 5 0 0 0 - - -;
#X obj 628 108 spigot;
#X obj 660 79 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 623 254 * 1;
#X floatatom 653 231 5 0 0 0 - - -;
#X msg 624 288 bowy \$1;
#X obj 35 324 outlet;
#X obj 40 45 t b b b b b b b, f 101;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 23 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 5 1;
#X connect 7 0 4 0;
#X connect 8 0 7 1;
#X connect 9 0 2 0;
#X connect 10 0 2 0;
#X connect 11 0 10 1;
#X connect 12 0 0 0;
#X connect 13 0 12 0;
#X connect 14 0 13 1;
#X connect 15 0 19 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 18 0 17 1;
#X connect 19 0 21 0;
#X connect 20 0 19 1;
#X connect 21 0 0 0;
#X connect 23 0 22 0;
#X connect 23 1 7 0;
#X connect 23 3 10 0;
#X connect 23 5 17 0;
#X restore 36 118 pd modulate;
#X obj 463 14 loadbang;
#X msg 199 55 1;
#X msg 589 53 64;
#X msg 257 53 10;
#N canvas 0 54 450 300 stash 0;
#N canvas 0 54 498 473 counter 0;
#X obj 71 112 + 1;
#X obj 14 112 float 0;
#X obj 13 179 outlet;
#X obj 134 57 t b;
#X obj 133 83 float 0;
#X text 133 12 reset;
#X text 12 11 step;
#X obj 11 33 inlet;
#X obj 133 34 inlet;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X restore 15 178 pd counter;
#X f 11;
#N canvas 0 54 902 343 init 0;
#X obj 26 18 loadbang;
#X obj 604 189 v numpoints;
#X obj 31 57 t b b b b b, f 103;
#X msg 755 104 3.14159;
#X obj 756 163 v PI;
#X obj 793 163 v TWOPI;
#X obj 793 134 * 2;
#X obj 572 145 t f b;
#X msg 571 109 8;
#X obj 390 138 v phase;
#X obj 486 213 v freq;
#X msg 391 102 0;
#X msg 483 177 1;
#X obj 574 221 array size beamsx;
#X connect 0 0 2 0;
#X connect 2 4 3 0;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 7 1 1 0;
#X connect 8 0 7 0;
#X connect 11 0 9 0;
#X connect 12 0 10 0;
#X restore 17 122 pd init;
#N canvas 125 460 519 282 waves 0;
#X floatatom 31 59 5 0 0 0 - - -;
#X obj 31 31 expr sin(time * TWOPI * freq + phase);
#X floatatom 29 208 5 0 0 0 - - -;
#X obj 32 238 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 33 88 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 33 161 expr (float(2) / PI) * asin(sin(TWOPI / (float(1) / freq)
* time)), f 37;
#X obj 356 87 v phase;
#X floatatom 356 25 7 0 0 0 - - -;
#X obj 356 55 expr $f1 / 180 * PI;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X restore 18 148 pd waves;
#X obj 145 71 expr max(min($f1 \, $f2) \, ($f2 * -1));
#X floatatom 388 44 5 0 0 0 - - -;
#N canvas 502 54 641 679 flyback 0;
#X obj 109 92 inlet;
#X obj 330 542 outlet;
#X obj 244 94 inlet;
#X obj 110 349 float 0;
#X obj 110 321 until;
#X obj 110 292 float;
#X msg 156 321 0;
#X obj 216 421 list store;
#X obj 527 168 list length;
#X obj 527 202 - 5;
#X obj 425 237 list split;
#X msg 32 45 -100 0 255 255 255 100 0 255 255 255;
#X obj 461 270 unpack f f;
#X obj 323 237 list split;
#X obj 319 171 t l b, f 10;
#X msg 388 203 4;
#X obj 323 266 unpack f f;
#X obj 128 599 print firstx;
#X obj 263 601 print lastx;
#X obj 325 632 print lasty;
#X text 248 72 subdivide;
#X obj 225 349 /;
#X obj 110 136 t b l l l l, f 60;
#X obj 101 540 print subdivideX;
#X text 130 467 lerp: t \, a \, b;
#X obj 118 493 expr $f2 + ($f2 - $f3) * $f1;
#X obj 114 391 /;
#X obj 170 350 + 1;
#X obj 190 634 print firsty;
#X obj 225 313 -;
#X obj 110 174 t b b;
#X floatatom 307 365 5 0 0 0 - - -;
#X floatatom 293 93 5 0 0 0 - - -;
#X connect 2 0 21 1;
#X connect 3 0 26 0;
#X connect 3 0 27 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 3 1;
#X connect 8 0 9 0;
#X connect 9 0 10 1;
#X connect 10 1 12 0;
#X connect 11 0 22 0;
#X connect 12 0 25 2;
#X connect 12 0 29 1;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 14 1 15 0;
#X connect 15 0 13 1;
#X connect 16 0 25 1;
#X connect 16 0 29 0;
#X connect 21 0 5 1;
#X connect 21 0 26 1;
#X connect 21 0 31 0;
#X connect 22 0 30 0;
#X connect 22 1 7 0;
#X connect 22 2 14 0;
#X connect 22 3 10 0;
#X connect 22 4 8 0;
#X connect 26 0 25 0;
#X connect 26 0 23 0;
#X connect 27 0 3 1;
#X connect 29 0 21 0;
#X connect 30 0 5 0;
#X connect 30 1 6 0;
#X connect 32 0 21 1;
#X restore 142 177 pd flyback;
#X msg 141 114 -100 0 255 255 255 100 0 255 255 255;
#X floatatom 203 146 5 0 0 0 - - -;
#X connect 4 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X restore 801 311 pd stash;
#N canvas 1017 556 621 469 make-beams 0;
#X obj 128 192 + 1;
#X obj 68 191 float 0;
#X obj 68 163 until;
#X obj 68 135 float;
#X msg 115 163 0;
#X obj 187 189 /;
#X msg 186 162 1 \$1;
#X obj 68 253 *;
#X obj 24 47 t b b b b, f 20;
#X obj 208 134 array size beamsx;
#X obj 68 394 array set beamsx;
#X obj 161 76 v numbeams;
#X obj 23 12 inlet;
#X obj 24 76 outlet;
#N canvas 0 50 450 250 (subpatch) 0;
#X array beamsx 64 float 3;
#A 0 0 0.0625 0.125 0.1875 0.25 0.3125 0.375 0.4375 0.5 0.5625 0.625
0.6875 0.75 0.8125 0.875 0.9375 1 0.937501 0.875002 0.812502 0.750002
0.687502 0.625002 0.562501 0.500002 0.437502 0.375002 0.312502 0.250002
0.187502 0.125002 0.0625015 1.61395e-06 -0.0624983 -0.124998 -0.187498
-0.249998 -0.312498 -0.374998 -0.437498 -0.499998 -0.562498 -0.624998
-0.687498 -0.749998 -0.812498 -0.874998 -0.937498 -1 -0.937503 -0.875003
-0.812503 -0.750003 -0.687503 -0.625003 -0.562503 -0.500003 -0.437503
-0.375003 -0.312503 -0.250003 -0.187503 -0.125003 -0.0625032;
#X coords 0 -1 64 1 200 100 1 0 0;
#X restore 391 35 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array beamsy 64 float 3;
#A 0 0 0.0718068 0.0999512 0.0673198 -0.00624568 -0.0760134 -0.0995609
-0.0625699 0.012467 0.0799233 0.0987819 0.0575757 -0.0186396 -0.083521
-0.0976171 -0.0523567 0.0247394 0.0867927 0.0960712 0.0469333 -0.0307426
-0.0897253 -0.0941502 -0.0413265 0.0366258 0.0923077 0.0918616 0.0355584
-0.042366 -0.0945297 -0.0892142 -0.0296515 0.0479408 0.0963826 0.0862185
0.0236288 -0.0533283 -0.0978591 -0.0828862 -0.0175139 0.0585077 0.0989535
0.0792303 0.0113306 -0.0634586 -0.0996615 -0.0752647 -0.00510298 0.0681617
0.0999804 0.0710058 -0.00114452 -0.0725986 -0.0999089 -0.066469 0.00738756
0.0767521 0.0994473 0.0616733 -0.0136017 -0.0806059 -0.0985973 -0.0566361
0.0197628;
#X coords 0 -1 64 1 200 100 1 0 0;
#X restore 389 151 graph;
#X obj 173 432 array set beamsy;
#X obj 173 253 *;
#X obj 68 219 t f f f f, f 23;
#X obj 162 106 t f f f f, f 10;
#X obj 228 164 array size beamsy;
#X floatatom 429 307 5 0 0 0 - - -;
#X text 340 305 Y Amplitude;
#X obj 68 284 expr (2 / PI) * asin(sin(TWOPI / (1 / freqx) * ($f1 +
phaseshift * time))), f 37;
#X obj 173 334 expr $f2 * sin($f1 * TWOPI * freqy + $f1 + phaseshifty
* time), f 37;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 18 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 1 1;
#X connect 5 0 7 1;
#X connect 5 0 17 1;
#X connect 6 0 5 0;
#X connect 7 0 23 0;
#X connect 8 0 13 0;
#X connect 8 1 3 0;
#X connect 8 2 4 0;
#X connect 8 3 11 0;
#X connect 11 0 19 0;
#X connect 12 0 8 0;
#X connect 17 0 24 0;
#X connect 18 0 7 0;
#X connect 18 1 10 1;
#X connect 18 2 17 0;
#X connect 18 3 16 1;
#X connect 19 0 3 1;
#X connect 19 1 6 0;
#X connect 19 2 9 0;
#X connect 19 3 20 0;
#X connect 21 0 24 1;
#X connect 23 0 10 0;
#X connect 24 0 16 0;
#X restore 36 85 pd make-beams;
#N canvas 494 308 453 779 render 0;
#X obj 26 17 inlet;
#X obj 66 191 float 0;
#X obj 66 640 pack f f f f f, f 23;
#X obj 106 604 * 2047;
#X obj 186 576 * 255;
#X obj 227 603 * 255;
#X obj 66 675 array set heliosdata, f 52;
#X obj 66 221 t f f f f f f, f 29;
#X obj 180 191 array size heliosdata;
#X obj 66 163 until;
#X obj 66 134 float;
#X msg 112 163 0;
#X obj 22 738 outlet;
#X obj 25 711 array get heliosdata;
#X obj 81 738 array define -yrange -2048 2047 heliosdata;
#X obj 25 46 t b b b b, f 18;
#X obj 126 192 + 5;
#X obj 180 138 change;
#X obj 180 163 * 5;
#X obj 66 251 / 5;
#X obj 146 251 / 5;
#X obj 66 576 * -2047;
#X obj 66 342 tabread beamsx;
#X obj 106 371 tabread beamsy;
#X obj 106 251 / 5;
#X obj 148 112 t f f;
#X obj 148 80 expr numbeams * dwell;
#X obj 146 402 expr (($i1 % dwell) >= dwell * preblank) && (($i1 %
dwell) < dwell * postblank), f 39;
#X obj 66 281 expr ($f1 / dwell);
#X obj 106 311 expr ($f1 / dwell);
#X obj 186 492 expr $f1 * (($i2 / 5 / dwell) % 2 == 0), f 21;
#X obj 227 534 expr $f1 * (($i2 / 5 / dwell) % 2 == 1), f 21;
#X obj 146 552 * 0;
#X obj 146 461 t f f f, f 12;
#X connect 0 0 15 0;
#X connect 1 0 7 0;
#X connect 1 0 16 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 2 3;
#X connect 5 0 2 4;
#X connect 7 0 19 0;
#X connect 7 1 24 0;
#X connect 7 2 20 0;
#X connect 7 3 30 1;
#X connect 7 4 31 1;
#X connect 7 5 6 1;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 11 0 1 1;
#X connect 13 0 12 0;
#X connect 15 0 13 0;
#X connect 15 1 10 0;
#X connect 15 2 11 0;
#X connect 15 3 26 0;
#X connect 16 0 1 1;
#X connect 17 0 18 0;
#X connect 18 0 8 0;
#X connect 19 0 28 0;
#X connect 20 0 27 0;
#X connect 21 0 2 0;
#X connect 22 0 21 0;
#X connect 23 0 3 0;
#X connect 24 0 29 0;
#X connect 25 0 10 1;
#X connect 25 1 17 0;
#X connect 26 0 25 0;
#X connect 27 0 33 0;
#X connect 28 0 22 0;
#X connect 29 0 23 0;
#X connect 30 0 4 0;
#X connect 31 0 5 0;
#X connect 32 0 2 2;
#X connect 33 0 32 0;
#X connect 33 1 30 0;
#X connect 33 2 31 0;
#X restore 38 150 pd render;
#N canvas 1491 590 350 552 clock 0;
#X obj 27 212 metro 50;
#N canvas 0 54 498 473 counter 0;
#X obj 71 112 + 1;
#X obj 14 112 float 0;
#X obj 13 179 outlet;
#X obj 134 57 t b;
#X obj 133 83 float 0;
#X text 133 12 reset;
#X text 12 11 step;
#X obj 11 33 inlet;
#X obj 133 34 inlet;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X restore 27 239 pd counter;
#X f 11;
#X msg 83 151 1000 \$1;
#X obj 83 178 /;
#X obj 84 122 t f f, f 6;
#X obj 80 299 /, f 6;
#X obj 80 327 v time;
#X obj 103 68 loadbang;
#X msg 102 93 30;
#X obj 28 40 inlet;
#X obj 85 40 inlet;
#X text 82 14 FPS;
#X obj 102 209 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 126 204 reset;
#X obj 26 327 outlet;
#X text 25 14 start;
#X obj 27 267 t b f, f 8;
#X connect 0 0 1 0;
#X connect 1 0 16 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 2 0;
#X connect 4 1 5 1;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 0 0;
#X connect 10 0 4 0;
#X connect 12 0 1 1;
#X connect 16 0 14 0;
#X connect 16 1 5 0;
#X restore 34 58 pd clock;
#X obj 30 22 tgl 24 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X floatatom 88 27 5 0 0 0 - - -;
#X text 133 10 FPS;
#X floatatom 728 85 7 0 0 0 - - -;
#X floatatom 807 85 7 0 0 0 - - -;
#X obj 729 143 v preblank;
#X obj 808 143 v postblank;
#X obj 668 143 v dwell;
#X msg 729 57 0.5;
#X msg 808 57 1;
#X msg 668 55 12;
#X obj 199 143 v freqx;
#X floatatom 378 80 7 0 0 0 - - -;
#X obj 379 140 v freqy;
#X floatatom 456 85 10 0 0 0 - - -;
#X obj 460 144 v phaseshifty;
#X msg 48 219 100 0 255 255 255 0 0 255 255 255 0 100 255 255 255;
#X msg 379 52 8;
#X msg 454 54 0;
#X obj 457 112 / 100;
#X connect 0 0 32 0;
#X connect 2 0 10 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 28 0;
#X connect 11 0 8 0;
#X connect 12 0 19 0;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 13 0 31 0;
#X connect 13 0 16 0;
#X connect 13 0 29 0;
#X connect 13 0 30 0;
#X connect 13 0 38 0;
#X connect 13 0 39 0;
#X connect 14 0 0 0;
#X connect 15 0 2 0;
#X connect 16 0 3 0;
#X connect 18 0 12 0;
#X connect 19 0 8 0;
#X connect 20 0 18 0;
#X connect 21 0 20 0;
#X connect 22 0 20 1;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 29 0 24 0;
#X connect 30 0 25 0;
#X connect 31 0 9 0;
#X connect 33 0 34 0;
#X connect 35 0 40 0;
#X connect 37 0 8 0;
#X connect 38 0 33 0;
#X connect 39 0 35 0;
#X connect 40 0 36 0;
