#N canvas 1210 197 725 374 12;
#X obj 199 143 v freq;
#X floatatom 198 83 7 0 0 0 - - - 0;
#X obj 279 198 helios-control;
#X floatatom 373 84 7 1 4096 0 - - - 0;
#X floatatom 259 84 10 0 0 0 - - - 0;
#X obj 263 143 v phaseshift;
#X obj 260 111 / 1000;
#X obj 49 236 r helios-control;
#X obj 38 303 helios-status;
#X obj 35 265 helios 10000;
#X floatatom 451 85 7 1 20 0 - - - 0;
#X obj 373 143 v numbeams;
#X msg 48 210 0 0 255 255 255;
#N canvas 1278 1122 764 374 modulate 0;
#X obj 33 331 s helios-control;
#X msg 33 279 rotation \$1;
#X obj 184 191 expr sin(time * TWOPI * $f1 + phase);
#X obj 42 13 inlet;
#X obj 35 192 v time;
#X obj 35 251 * 1;
#X floatatom 58 225 5 0 0 0 - - - 0;
#X obj 40 109 spigot;
#X obj 77 76 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X floatatom 204 157 5 0 0 0 - - - 0;
#X obj 196 110 spigot;
#X obj 228 81 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X msg 168 281 linearityx \$1;
#X obj 167 252 * 1;
#X floatatom 197 224 5 0 0 0 - - - 0;
#X obj 464 191 expr sin(time * TWOPI * $f1 + phase);
#X floatatom 484 157 5 0 0 0 - - - 0;
#X obj 476 110 spigot;
#X obj 508 81 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 447 252 * 1;
#X floatatom 477 224 5 0 0 0 - - - 0;
#X msg 448 281 bowy \$1;
#X obj 40 45 t b b b b b, f 79;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 22 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 5 1;
#X connect 7 0 4 0;
#X connect 8 0 7 1;
#X connect 9 0 2 0;
#X connect 10 0 2 0;
#X connect 11 0 10 1;
#X connect 12 0 0 0;
#X connect 13 0 12 0;
#X connect 14 0 13 1;
#X connect 15 0 19 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 18 0 17 1;
#X connect 19 0 21 0;
#X connect 20 0 19 1;
#X connect 21 0 0 0;
#X connect 22 0 7 0;
#X connect 22 1 10 0;
#X connect 22 3 17 0;
#X restore 70 147 pd modulate;
#X obj 34 116 t b b;
#X obj 199 17 loadbang;
#X msg 199 55 1;
#X msg 373 53 64;
#X msg 452 55 16;
#X msg 257 53 10;
#N canvas 0 54 450 300 stash 0;
#N canvas 0 54 498 473 counter 0;
#X obj 71 112 + 1;
#X obj 14 112 float 0;
#X obj 13 179 outlet;
#X obj 134 57 t b;
#X obj 133 83 float 0;
#X text 133 12 reset;
#X text 12 11 step;
#X obj 11 33 inlet;
#X obj 133 34 inlet;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X restore 15 178 pd counter;
#X f 11;
#N canvas 0 54 902 343 init 0;
#X obj 26 18 loadbang;
#X obj 604 189 v numpoints;
#X obj 31 57 t b b b b b, f 103;
#X msg 755 104 3.14159;
#X obj 756 163 v PI;
#X obj 793 163 v TWOPI;
#X obj 793 134 * 2;
#X obj 572 145 t f b;
#X msg 571 109 8;
#X obj 390 138 v phase;
#X obj 486 213 v freq;
#X msg 391 102 0;
#X msg 483 177 1;
#X obj 574 221 array size beamsx;
#X connect 0 0 2 0;
#X connect 2 4 3 0;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 7 1 1 0;
#X connect 8 0 7 0;
#X connect 11 0 9 0;
#X connect 12 0 10 0;
#X restore 17 122 pd init;
#N canvas 432 107 519 282 waves 0;
#X floatatom 31 59 5 0 0 0 - - - 0;
#X obj 31 31 expr sin(time * TWOPI * freq + phase);
#X floatatom 29 208 5 0 0 0 - - - 0;
#X obj 32 238 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 33 88 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 33 161 expr (float(2) / PI) * asin(sin(TWOPI / (float(1) / freq)
* time));
#X obj 356 87 v phase;
#X floatatom 356 25 7 0 0 0 - - - 0;
#X obj 356 55 expr $f1 / 180 * PI;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X restore 18 148 pd waves;
#X obj 145 71 expr max(min($f1 \, $f2) \, ($f2 * -1));
#X floatatom 388 44 5 0 0 0 - - - 0;
#N canvas 502 54 641 679 flyback 0;
#X obj 109 92 inlet;
#X obj 330 542 outlet;
#X obj 244 94 inlet;
#X obj 110 349 float 0;
#X obj 110 321 until;
#X obj 110 292 float;
#X msg 156 321 0;
#X obj 216 421 list store;
#X obj 527 168 list length;
#X obj 527 202 - 5;
#X obj 425 237 list split;
#X msg 32 45 -100 0 255 255 255 100 0 255 255 255;
#X obj 461 270 unpack f f;
#X obj 323 237 list split;
#X obj 319 171 t l b, f 10;
#X msg 388 203 4;
#X obj 323 266 unpack f f;
#X obj 128 599 print firstx;
#X obj 263 601 print lastx;
#X obj 325 632 print lasty;
#X text 248 72 subdivide;
#X obj 225 349 /;
#X obj 110 136 t b l l l l, f 60;
#X obj 101 540 print subdivideX;
#X text 130 467 lerp: t \, a \, b;
#X obj 118 493 expr $f2 + ($f2 - $f3) * $f1;
#X obj 114 391 /;
#X obj 170 350 + 1;
#X obj 190 634 print firsty;
#X obj 225 313 -;
#X obj 110 174 t b b;
#X floatatom 307 365 5 0 0 0 - - - 0;
#X floatatom 293 93 5 0 0 0 - - - 0;
#X connect 2 0 21 1;
#X connect 3 0 26 0;
#X connect 3 0 27 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 3 1;
#X connect 8 0 9 0;
#X connect 9 0 10 1;
#X connect 10 1 12 0;
#X connect 11 0 22 0;
#X connect 12 0 25 2;
#X connect 12 0 29 1;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 14 1 15 0;
#X connect 15 0 13 1;
#X connect 16 0 25 1;
#X connect 16 0 29 0;
#X connect 21 0 5 1;
#X connect 21 0 26 1;
#X connect 21 0 31 0;
#X connect 22 0 30 0;
#X connect 22 1 7 0;
#X connect 22 2 14 0;
#X connect 22 3 10 0;
#X connect 22 4 8 0;
#X connect 26 0 25 0;
#X connect 26 0 23 0;
#X connect 27 0 3 1;
#X connect 29 0 21 0;
#X connect 30 0 5 0;
#X connect 30 1 6 0;
#X connect 32 0 21 1;
#X restore 142 177 pd flyback;
#X msg 141 114 -100 0 255 255 255 100 0 255 255 255;
#X floatatom 203 146 5 0 0 0 - - - 0;
#X connect 4 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X restore 280 239 pd stash;
#N canvas 2137 983 620 385 make-beams 0;
#X obj 128 192 + 1;
#X obj 68 191 float 0;
#X obj 68 163 until;
#X obj 68 135 float;
#X msg 115 163 0;
#X obj 68 219 t f f, f 9;
#X obj 188 207 /;
#X msg 186 173 1 \$1;
#X obj 68 248 *;
#X obj 162 106 t f f f;
#X obj 24 47 t b b b b, f 20;
#X obj 208 139 array size beamsx;
#X obj 70 334 array set beamsx;
#X obj 161 76 v numbeams;
#X obj 70 279 expr (2 / PI) * asin(sin(TWOPI / (1 / freq) * ($f1 +
phaseshift * time))), f 37;
#X obj 23 12 inlet;
#X obj 24 76 outlet;
#N canvas 0 50 450 250 (subpatch) 0;
#X array beamsx 4 float 3;
#A 0 0.484972 -0.515032 -0.484966 0.515037;
#X coords 0 -1 4 1 200 100 1 0 0;
#X restore 362 21 graph;
#N canvas 0 50 450 250 (subpatch) 0;
#X array beamsy 1 float 3;
#A 0 0;
#X coords 0 -1 1 1 200 100 1 0 0;
#X restore 360 137 graph;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 1 1;
#X connect 5 0 8 0;
#X connect 5 1 12 1;
#X connect 6 0 8 1;
#X connect 7 0 6 0;
#X connect 8 0 14 0;
#X connect 9 0 3 1;
#X connect 9 1 7 0;
#X connect 9 2 11 0;
#X connect 10 0 16 0;
#X connect 10 1 3 0;
#X connect 10 2 4 0;
#X connect 10 3 13 0;
#X connect 13 0 9 0;
#X connect 14 0 12 0;
#X connect 15 0 10 0;
#X restore 36 85 pd make-beams;
#N canvas 448 54 440 733 render 0;
#X obj 26 17 inlet;
#X obj 66 191 float 0;
#X obj 65 565 pack f f f f f, f 15;
#X obj 91 529 * 2047;
#X obj 120 475 * 255;
#X obj 146 501 * 255;
#X obj 173 528 * 255;
#X obj 65 600 array set heliosdata, f 40;
#X obj 66 221 t f f f f f f, f 20;
#X obj 180 191 array size heliosdata;
#X obj 66 163 until;
#X obj 66 134 float;
#X msg 112 163 0;
#X obj 22 663 outlet;
#X obj 25 636 array get heliosdata;
#X obj 81 663 array define -yrange -2048 2047 heliosdata;
#X obj 25 46 t b b b b, f 18;
#X obj 126 192 + 5;
#X obj 180 138 change;
#X obj 180 163 * 5;
#X obj 66 247 / 5;
#X obj 120 247 / 5;
#X obj 65 501 * -2047;
#X obj 65 335 tabread beamsx;
#X obj 120 446 t f f f, f 8;
#X obj 91 362 tabread beamsy;
#X obj 93 247 / 5;
#X obj 148 112 t f f;
#X obj 148 80 expr numbeams * dwell;
#X obj 120 390 expr (($i1 % dwell) >= dwell * preblank) && (($i1 %
dwell) < dwell * postblank), f 39;
#X obj 65 278 expr ($f1 / dwell);
#X obj 92 305 expr ($f1 / dwell);
#X connect 0 0 16 0;
#X connect 1 0 8 0;
#X connect 1 0 17 0;
#X connect 2 0 7 0;
#X connect 3 0 2 1;
#X connect 4 0 2 2;
#X connect 5 0 2 3;
#X connect 6 0 2 4;
#X connect 8 0 20 0;
#X connect 8 1 26 0;
#X connect 8 2 21 0;
#X connect 8 5 7 1;
#X connect 10 0 1 0;
#X connect 11 0 10 0;
#X connect 12 0 1 1;
#X connect 14 0 13 0;
#X connect 16 0 14 0;
#X connect 16 1 11 0;
#X connect 16 2 12 0;
#X connect 16 3 28 0;
#X connect 17 0 1 1;
#X connect 18 0 19 0;
#X connect 19 0 9 0;
#X connect 20 0 30 0;
#X connect 21 0 29 0;
#X connect 22 0 2 0;
#X connect 23 0 22 0;
#X connect 24 0 4 0;
#X connect 24 1 5 0;
#X connect 24 2 6 0;
#X connect 25 0 3 0;
#X connect 26 0 31 0;
#X connect 27 0 11 1;
#X connect 27 1 18 0;
#X connect 28 0 27 0;
#X connect 29 0 24 0;
#X connect 30 0 23 0;
#X connect 31 0 25 0;
#X restore 36 179 pd render;
#N canvas 1491 590 350 552 clock 0;
#X obj 27 212 metro 50;
#N canvas 0 54 498 473 counter 0;
#X obj 71 112 + 1;
#X obj 14 112 float 0;
#X obj 13 179 outlet;
#X obj 134 57 t b;
#X obj 133 83 float 0;
#X text 133 12 reset;
#X text 12 11 step;
#X obj 11 33 inlet;
#X obj 133 34 inlet;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X restore 27 239 pd counter;
#X f 11;
#X msg 83 151 1000 \$1;
#X obj 83 178 /;
#X obj 84 122 t f f, f 6;
#X obj 80 299 /, f 6;
#X obj 80 327 v time;
#X obj 103 68 loadbang;
#X msg 102 93 30;
#X obj 28 40 inlet;
#X obj 85 40 inlet;
#X text 82 14 FPS;
#X obj 102 209 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X text 126 204 reset;
#X obj 26 327 outlet;
#X text 25 14 start;
#X obj 27 267 t b f, f 8;
#X connect 0 0 1 0;
#X connect 1 0 16 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 2 0;
#X connect 4 1 5 1;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 0 0;
#X connect 10 0 4 0;
#X connect 12 0 1 1;
#X connect 16 0 14 0;
#X connect 16 1 5 0;
#X restore 34 58 pd clock;
#X obj 30 22 tgl 24 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X floatatom 88 27 5 0 0 0 - - - 0;
#X text 133 10 FPS;
#X floatatom 512 85 7 0 0 0 - - - 0;
#X floatatom 591 85 7 0 0 0 - - - 0;
#X obj 513 143 v preblank;
#X obj 592 143 v postblank;
#X msg 513 57 0.33333;
#X msg 592 57 0.66666;
#X obj 452 143 v dwell;
#X connect 1 0 0 0;
#X connect 3 0 11 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 9 0;
#X connect 9 0 8 0;
#X connect 10 0 33 0;
#X connect 12 0 9 0;
#X connect 14 0 22 0;
#X connect 14 1 13 0;
#X connect 15 0 16 0;
#X connect 15 0 17 0;
#X connect 15 0 18 0;
#X connect 15 0 19 0;
#X connect 15 0 31 0;
#X connect 15 0 32 0;
#X connect 16 0 1 0;
#X connect 17 0 3 0;
#X connect 18 0 10 0;
#X connect 19 0 4 0;
#X connect 21 0 14 0;
#X connect 22 0 9 0;
#X connect 23 0 21 0;
#X connect 24 0 23 0;
#X connect 25 0 23 1;
#X connect 27 0 29 0;
#X connect 28 0 30 0;
#X connect 31 0 27 0;
#X connect 32 0 28 0;
